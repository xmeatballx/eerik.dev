# Generating color palettes with musical ratios

As a developer with a background in music composition, I had an idea for a proof of concept web app called ColorChords, which translated musical harmonic ratios into color space. This was inspired by [https://typescale.com/](https://typescale.com/), which applies musical intervals to typographic systems. I really enjoy projects like this, little experiments that are built just for the sake of asking “what if I could do x?”, without much consideration of if the final product will actually be worth using. In this case, while slightly useful, the shortcomings in this approach taught me a lot about both music and color theory. After taking a while to revisit and unpack the color palette generation technique I’ve come to a few conclusions about why translating musical intervals directly into colors isn’t as simple as it may seem.

## It’s just intonation, right?

Perhaps the most glaring example of why musical harmonic ratios are less optimal for involves the distance between colors in color space. Both color space and frequency space are both contnious r ranges of values, which are most commonly squashed into discrete ranges based on the ranges of human perception. Picking any arbitrary value will result either in a color of a fundamental frequency (musical note w/ no extra harmonic data). Sound and color are both also comprised of waves. So with all those similarities the concept of harmony should function pretty similarly in both spaces right? Actually yes, but I was too caught up in the idea of harmonic ratios and the harmonic series to realize that.

One of the foundational works in the systematization of colors and color harmony was the Ostwald Color System, which emphasizes the importance of rhythm and balance in color palettes. According to Ostwald, effective color schemes should feature hues that are equally spaced within a given color space. This concept is crucial for achieving a visually cohesive palette.

When it comes to sound, equal temperament, which divides an octave into 12 equal parts, is versatile and widely used in modern music. However, it compromises the purity of harmonic intervals. Just intonation, on the other hand, adjusts intervals to match natural frequency ratios, leading to more harmonious sounds. I decided to go with just intonation because the pure harmonic ratios of the harmonic series are so captivating, but if I had read up on my color theory first I probably would have gone with equal temperament to ensure that the colors are more equally spaced.

## Choosing the Right Color Space

I used the HSL (Hue, Saturation, Lightness) color model to map colors to musical notes. RGB felt like a less natural color space to use, since it doesn’t really reflect the physical aspects of color perception. I had used HSL quite a bit and new CSS color spaces weren’t available yet in most browsers. The frequency of the note maps to the hue of the resulting color, and by pressing the piano key closer to the top or bottom you can adjust the saturation of the color. However, after some reflection I realized that HSL isn’t the best model for this purpose because it doesn’t align well with how we perceive color differences. I’d like to go bakc and add an option to use OKLab, a color space that accounts for human visual perception more accurately. This shift might more accurately reflect the intervals while still adhering to musical harmonic rules.

## Conclusion

Returning to this project, I learned that creating a visually appealing color palette using musical harmony principles involves much more than a straightforward translation of notes to colors. The many nuances of the math and physics of harmony and human perception require in depth consideration to create appealing representations of these relationships. Overall its been a great exercise in extracting constructive criticism from unsuccessful projects, as well as, the importance of understanding
